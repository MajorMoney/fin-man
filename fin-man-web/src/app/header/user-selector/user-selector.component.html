<div class="user-selector" (clickOutside)="dropdownOpen = false">
  <div class="current-user" (click)="toggleDropdown()">
    {{ (userService.currentUser$ | async)?.name }}
    <span class="arrow">{{ dropdownOpen ? '▲' : '▼' }}</span>
  </div>

  <ul class="dropdown" *ngIf="dropdownOpen">
    <li
      *ngFor="let user of userService.users$ | async"
      (click)="selectUser(user)"
      [class.selected]="user === currentUser"
    >
      {{ user.name }}
    </li>
  </ul>
</div>
